<!DOCTYPE html>
<html lang="kk">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>TravelORDA</title>
  <link rel="manifest" href="manifest.json">
  <meta name="theme-color" content="#007bff">

  <style>
    :root {
      --bg: #f6f8fc;
      --card: #fff;
      --accent: #2a5298;
      --muted: #6b7280;
      --radius: 14px;
      --shadow: 0 8px 24px rgba(20,24,40,0.06);
    }
    * { box-sizing: border-box; }
    body {
      margin: 0;
      font-family: Inter, "Segoe UI", Roboto, system-ui;
      background: var(--bg);
      color: #0f172a;
    }
    .app { max-width: 520px; margin: 16px auto; padding-bottom: 96px; }
    .topbar {
      display: flex;
      align-items: center;
      justify-content: space-between;
      padding: 8px 8px 6px;
    }
    .brand { display: flex; gap: 10px; align-items: center; }
    .logo {
      width: 46px; height: 46px;
      border-radius: 12px;
      background: linear-gradient(135deg, #667eea, #764ba2);
      display: flex; align-items: center; justify-content: center;
      color: #fff; font-weight: 700;
    }
    .title { line-height: 1; }
    .app-name { font-weight: 700; }
    .app-sub { font-size: 13px; color: var(--muted); }
    .lang-wrap {
      display: flex; align-items: center; gap: 8px;
    }
    .lang-btn {
      width: 42px; height: 42px;
      border-radius: 10px;
      background: var(--card);
      display: flex; align-items: center; justify-content: center;
      box-shadow: var(--shadow);
      border: none; cursor: pointer; font-size: 18px;
    }
    .lang-label {
      font-weight: 700; font-size: 13px;
      color: var(--muted);
      padding: 6px 8px;
      border-radius: 8px;
      background: rgba(255,255,255,0.8);
      box-shadow: var(--shadow);
    }
    .lang-label.active {
      background: var(--accent);
      color: #fff;
    }
    .tabs-wrap { position: relative; padding: 8px 6px; }
    .tabs {
      display: flex; gap: 8px; overflow-x: auto;
      padding: 6px; scroll-behavior: smooth; white-space: nowrap;
    }
    .tabs::-webkit-scrollbar { display: none; }
    .tab {
      flex: 0 0 auto;
      background: var(--card);
      padding: 8px 12px;
      border-radius: 999px;
      border: none;
      cursor: pointer;
      font-weight: 700;
      color: var(--muted);
      box-shadow: 0 4px 12px rgba(10,14,30,0.04);
    }
    .tab.active {
      background: var(--accent);
      color: #fff;
    }
    .slider-wrap { flex:1; min-width:0; }
    .slider-frame {
      position: relative;
      border-radius: 14px;
      overflow: hidden;
      height: 100%;
      min-height: 420px;
      background: linear-gradient(180deg, rgba(255,255,255,0.95), rgba(255,255,255,0.99));
      box-shadow: var(--shadow);
    }
    .slides {
      display: flex;
      height: 100%;
      
      transition: transform 320ms cubic-bezier(.22,.9,.2,1);
      will-change: transform;
      overscroll-behavior-x: contain;
      touch-action: pan-y; /* allow vertical scroll only */
    }
    .slide {
      flex: 0 0 100%;
      padding: 16px;
      overflow: auto;
    }
    .arrow-inner {
      position: absolute;
      top: 50%;
      transform: translateY(-50%);
      width: 24px;
      height: 32px;
      border-radius: 8px;
      border: none;
      background: rgba(255,255,255,0.85);
      display: flex;
      align-items: center;
      justify-content: center;
      box-shadow: 0 8px 22px rgba(20,24,40,0.12);
      cursor: pointer;
      font-size: 18px;
      z-index: 40;
      transition: background .15s, transform .08s;
    }
    .arrow-inner:hover {
      background: rgba(255,255,255,1);
      transform: translateY(-50%) scale(1.03);
    }
    .arrow-inner.left { left: 5px; }
    .arrow-inner.right { right: 5px; }
    .place-card {
      background: var(--card);
      border-radius: 12px;
      overflow: hidden;
      box-shadow: 0 6px 20px rgba(20,24,40,0.06);
      margin-bottom: 14px;
    }
    .place-image {
      width:100%; height:180px; object-fit: cover; display: block;
    }
    .place-body {
      padding:12px;
    }
    .place-title {
      font-weight:800; color: var(--accent);
      font-size: 18px; margin-bottom:6px;
    }
    .place-desc {
      color: var(--muted); font-size:14px;
      line-height:1.45;
    }
    .badge {
      margin-top:10px;
      display: inline-block;
      padding:6px 10px;
      border-radius:999px;
      background: rgba(42,82,152,0.09);
      color: var(--accent);
      font-weight:700;
    }
    .map-link {
      display: block;
      margin-top: 8px;
      color: var(--accent);
      text-decoration: none;
      font-weight:600;
      font-size:14px;
    }
    .map-link:hover {
      text-decoration: underline;
    }
    .dots {
      display:flex; justify-content:center; gap:8px;
      padding:10px;
    }
    .dot {
      width:8px; height:8px; border-radius:8px;
      background:#e6e9ee;
    }
    .dot.active { background: var(--accent); }
    .footer {
      position: fixed; left:0; right:0; bottom:0;
      background: var(--card);
      padding:12px 18px;
      text-align:center;
      box-shadow:0 -12px 30px rgba(10,14,30,0.04);
      font-weight:600; color: var(--muted);
    }
    @media (max-width:420px){
      .place-image { height:140px; }
      .slider-frame { min-height:360px; }
    }
    
  </style>
</head>
<body>
  <div class="app" id="app">
    <div class="topbar">
      <div class="brand">
        <div class="logo">TO</div>
        <div class="title">
          <div class="app-name">TravelORDA</div>
          <div class="app-sub" id="subtitle">“ö—ã–∑—ã–ª–æ—Ä–¥–∞ –æ–±–ª—ã—Å—ã</div>
        </div>
      </div>
      <div class="lang-wrap" title="Toggle language">
        <button id="langBtn" class="lang-btn">üåê</button>
        <div id="langLabel" class="lang-label">“ö–ê–ó / –†–£–°</div>
      </div>
    </div>
    <div class="tabs-wrap">
      <button class="arrow-inner left" id="arrowLeft" aria-label="Previous">‚óÄ</button>
      <div id="tabs" class="tabs" role="tablist"></div>
      <button class="arrow-inner right" id="arrowRight" aria-label="Next">‚ñ∂</button>
    </div>
    <div class="slider-wrap" style="flex:1">
      <div class="slider-frame" id="sliderFrame">       
        <div class="slides" id="slides"></div>
      </div>
      <div class="dots" id="dots"></div>
    </div>
  </div>
  <div class="footer">¬© 2025 TravelORDA</div>

<script>
(function(){
  const DATA = {
    lang: 'kk',
    sections: [
      {
        id:'attractions', icon:'üèõÔ∏è',
        title:{kk:'–ö”©—Ä—ñ–∫—Ç—ñ –æ—Ä—ã–Ω–¥–∞—Ä', ru:'–î–æ—Å—Ç–æ–ø—Ä–∏–º–µ—á–∞—Ç–µ–ª—å–Ω–æ—Å—Ç–∏'},
        items: [
          {
            title:{kk:'–ë–∞–π“õ–æ“£—ã—Ä “ì–∞—Ä—ã—à –∞–π–ª–∞“ì—ã', ru:'–ö–æ—Å–º–æ–¥—Ä–æ–º –ë–∞–π–∫–æ–Ω—É—Ä'},
            desc:{kk:'–ë–∞–π“õ–æ“£—ã—Ä ‚Äì ”ô–ª–µ–º–¥–µ–≥—ñ –µ“£ “Ø–ª–∫–µ–Ω –∂”ô–Ω–µ –µ“£ –∞–ª“ì–∞—à“õ—ã “ì–∞—Ä—ã—à –∞–π–ª–∞“ì—ã. 1957 –∂—ã–ª—ã –∞–ª“ì–∞—à“õ—ã –∂–∞—Å–∞–Ω–¥—ã —Å–µ—Ä—ñ–∫ –æ—Å—ã –∂–µ—Ä–¥–µ–Ω “±—à—ã—Ä—ã–ª–¥—ã.', 
                  ru:'–ë–∞–π–∫–æ–Ω—É—Ä ‚Äî –∫—Ä—É–ø–Ω–µ–π—à–∏–π –∏ –ø–µ—Ä–≤—ã–π –∫–æ—Å–º–æ–¥—Ä–æ–º –≤ –º–∏—Ä–µ. –í 1957 –≥–æ–¥—É –æ—Ç—Ç—É–¥–∞ –∑–∞–ø—É—Å—Ç–∏–ª–∏ –ø–µ—Ä–≤—ã–π –∏—Å–∫—É—Å—Å—Ç–≤–µ–Ω–Ω—ã–π —Å–ø—É—Ç–Ω–∏–∫.'},
            img:'https://sn.kz/cache/imagine/main_page_full/uploads/news/2022/04/12/6254ffede0a55573369793.jpg',
            badge:{kk:'üìç “ö—ã–∑—ã–ª–æ—Ä–¥–∞ –æ–±–ª—ã—Å—ã', ru:'üìç –ö—ã–∑—ã–ª–æ—Ä–¥–∏–Ω—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å'},
            mapLink:{kk:'https://2gis.kz/geo/70030076439795093/63.305237%2C45.624875?m=63.306062%2C45.625232%2F15.38', ru:'https://2gis.kz/geo/70030076439795093/63.305237%2C45.624875?m=63.306062%2C45.625232%2F15.38'}
          },
          {
            title:{kk:'–°—ã—Ä–¥–∞—Ä–∏—è –∂–∞“ì–∞–ª–∞—É—ã', ru:'–ù–∞–±–µ—Ä–µ–∂–Ω–∞—è –°—ã—Ä–¥–∞—Ä–∏–∏'},
            desc:{kk:'–°—ã—Ä–¥–∞—Ä–∏—è –∂–∞“ì–∞–ª–∞—É—ã ‚Äî —Ç–∞–±–∏“ì–∏ –∫”©—Ä—ñ–Ω—ñ—Å—Ç–µ—Ä—ñ –∫–µ—Ä–µ–º–µ—Ç, –¥–µ–º–∞–ª—ã—Å –ø–µ–Ω —Å–µ—Ä—É–µ–Ω “Ø—à—ñ–Ω —ã“£“ì–∞–π–ª—ã.',
                  ru:'–ù–∞–±–µ—Ä–µ–∂–Ω–∞—è –°—ã—Ä–¥–∞—Ä–∏–∏ ‚Äî –∫—Ä–∞—Å–∏–≤–æ–µ –º–µ—Å—Ç–æ –¥–ª—è –æ—Ç–¥—ã—Ö–∞ –∏ –ø—Ä–æ–≥—É–ª–æ–∫.'},
            img:'https://opennews.kz/uploads/posts/2022-08/1661146819_jesse.jpg',
            badge:{kk:'üé£ –ë–∞–ª—ã“õ –∞—É–ª–∞—É/—Å–µ—Ä—É–µ–Ω –æ—Ä–Ω—ã', ru:'üé£ –ú–µ—Å—Ç–æ –¥–ª—è —Ä—ã–±–∞–ª–∫–∏/–ø—Ä–æ–≥—É–ª–∫–∏'},
            mapLink:{kk:'https://2gis.kz/kyzylorda/search/–°—ã—Ä–¥–∞—Ä–∏—è', ru:'https://2gis.kz/kyzylorda/search/–°—ã—Ä–¥–∞—Ä–∏—è'}
          },
          {
            title:{kk:'–ï—Å–∫—ñ —Ç–µ–º—ñ—Ä–∂–æ–ª –≤–æ–∫–∑–∞–ª—ã', ru:'–°—Ç–∞—Ä—ã–π –∂–µ–ª–µ–∑–Ω–æ–¥–æ—Ä–æ–∂–Ω—ã–π –≤–æ–∫–∑–∞–ª'},
            desc:{kk:'–ï—Å–∫—ñ –≤–æ–∫–∑–∞–ª ‚Äî —Ç–∞—Ä–∏—Ö–∏ —Å”ô—É–ª–µ—Ç “Ø–ª–≥—ñ—Å—ñ, “õ–∞–∑—ñ—Ä –º“±—Ä–∞–∂–∞–π —Ä–µ—Ç—ñ–Ω–¥–µ “õ—ã–∑–º–µ—Ç –µ—Ç–µ–¥—ñ.',
                  ru:'–°—Ç–∞—Ä—ã–π –≤–æ–∫–∑–∞–ª ‚Äî –∏—Å—Ç–æ—Ä–∏—á–µ—Å–∫–∏–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–π –æ–±—ä–µ–∫—Ç, —Å–µ–π—á–∞—Å –º—É–∑–µ–π.'},
            img:'https://knadmin.beoblood.kz/uploads/vokzal_b52770d4f8.jpg',
            badge:{kk:'üèõÔ∏è –¢–∞—Ä–∏—Ö–∏ –æ—Ä—ã–Ω', ru:'üèõÔ∏è –ò—Å—Ç–æ—Ä–∏—á–µ—Å–∫–æ–µ –º–µ—Å—Ç–æ'},
            mapLink:{kk:'https://2gis.kz/kyzylorda/firm/70000001063266677?m=65.495174%2C44.85451%2F16', ru:'https://2gis.kz/kyzylorda/firm/70000001063266677?m=65.495174%2C44.85451%2F16'}
          }
        ]
      },
      {
        id:'culture', icon:'üé≠',
        title:{kk:'–ú”ô–¥–µ–Ω–∏ –æ—Ä—ã–Ω–¥–∞—Ä', ru:'–ö—É–ª—å—Ç—É—Ä–∞'},
        items:[
          {
            title:{kk:'–ù.–ë–µ–∫–µ–∂–∞–Ω–æ–≤ –∞—Ç—ã–Ω–¥–∞“ì—ã —Ç–µ–∞—Ç—Ä', ru:'–¢–µ–∞—Ç—Ä –∏–º. –ù. –ë–µ–∫–µ–∂–∞–Ω–æ–≤–∞'},
            desc:{kk:'“ö–∞–∑–∞“õ –º—É–∑—ã–∫–∞–ª—ã“õ –¥—Ä–∞–º–∞ —Ç–µ–∞—Ç—Ä—ã ‚Äî ”©“£—ñ—Ä–¥—ñ“£ –º–∞“£—ã–∑–¥—ã –º”ô–¥–µ–Ω–∏ –º–µ–∫–µ–º–µ—Å—ñ.',
                  ru:'–ö–∞–∑–∞—Ö—Å–∫–∏–π –º—É–∑—ã–∫–∞–ª—å–Ω–æ-–¥—Ä–∞–º–∞—Ç–∏—á–µ—Å–∫–∏–π —Ç–µ–∞—Ç—Ä ‚Äî –≤–∞–∂–Ω–æ–µ —É—á—Ä–µ–∂–¥–µ–Ω–∏–µ –∫—É–ª—å—Ç—É—Ä—ã.'},
            img:'https://images.unsplash.com/photo-1503095396549-807759245b35?w=900',
            badge:{kk:'üéüÔ∏è “ö–æ–π—ã–ª—ã–º–¥–∞—Ä', ru:'üéüÔ∏è –ü—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è'},
            mapLink:{kk:'https://2gis.kz/kyzylorda/search/%D0%9D%D0%B0%D1%80%D1%82%D0%B0%D0%B9%20%D0%91%D0%B5%D0%BA%D0%B5%D0%B6%D0%B0%D0%BD%D0%BE%D0%B2%20%D1%82%D0%B5%D0%B0%D1%82%D1%80%D1%8B/firm/70000001062946371/65.505399%2C44.842706?m=65.505399%2C44.842706%2F15.44', ru:'https://2gis.kz/kyzylorda/search/%D0%9D%D0%B0%D1%80%D1%82%D0%B0%D0%B9%20%D0%91%D0%B5%D0%BA%D0%B5%D0%B6%D0%B0%D0%BD%D0%BE%D0%B2%20%D1%82%D0%B5%D0%B0%D1%82%D1%80%D1%8B/firm/70000001062946371/65.505399%2C44.842706?m=65.505399%2C44.842706%2F15.44'}
          },
          {
            title:{kk:'–û–±–ª—ã—Å—Ç—ã“õ —Ç–∞—Ä–∏—Ö–∏-”©–ª–∫–µ—Ç–∞–Ω—É –º“±—Ä–∞–∂–∞–π—ã', ru:'–û–±–ª–∞—Å—Ç–Ω–æ–π –∏—Å—Ç–æ—Ä–∏–∫–æ-–∫—Ä–∞–µ–≤–µ–¥—á–µ—Å–∫–∏–π –º—É–∑–µ–π'},
            desc:{kk:'–ú“±—Ä–∞–∂–∞–π–¥–∞ ”©“£—ñ—Ä —Ç–∞—Ä–∏—Ö—ã –∂”ô–Ω–µ –∞—Ä—Ö–µ–æ–ª–æ–≥–∏—è“ì–∞ “õ–∞—Ç—ã—Å—Ç—ã —ç–∫—Å–ø–æ–Ω–∞—Ç—Ç–∞—Ä –±–∞—Ä.',
                  ru:'–ú—É–∑–µ–π —Å–æ–¥–µ—Ä–∂–∏—Ç —ç–∫—Å–ø–æ–Ω–∞—Ç—ã –ø–æ –∏—Å—Ç–æ—Ä–∏–∏ –∏ –∞—Ä—Ö–µ–æ–ª–æ–≥–∏–∏ —Ä–µ–≥–∏–æ–Ω–∞.'},
            img:'https://img.inform.kz/kazinform-photobank/media/2023-09-28/7af3cf9d-b19c-4a83-b5ee-78fb5a13aa4f.webp',
            badge:{kk:'üìö ”®–ª–∫–µ—Ç–∞–Ω—É', ru:'üìö –û–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ'},
            mapLink:{kk:'https://2gis.kz/kyzylorda/search/–û–±–ª—ã—Å—Ç—ã“õ —Ç–∞—Ä–∏—Ö–∏-”©–ª–∫–µ—Ç–∞–Ω—É –º“±—Ä–∞–∂–∞–π—ã', ru:'https://2gis.kz/kyzylorda/search/–û–±–ª–∞—Å—Ç–Ω–æ–π –∏—Å—Ç–æ—Ä–∏–∫–æ-–∫—Ä–∞–µ–≤–µ–¥—á–µ—Å–∫–∏–π –º—É–∑–µ–π'}
          },
          {
            title:{kk:'Aray city Mall ', ru:'Aray city Mall'},
            desc:{kk:'"Aray city Mall" ‚Äî “ö—ã–∑—ã–ª–æ—Ä–¥–∞ “õ–∞–ª–∞—Å—ã–Ω–¥–∞“ì—ã –∂–∞“£–∞ —Å–∞—É–¥–∞ –æ–π—ã–Ω-—Å–∞—É—ã“õ –æ—Ä—Ç–∞–ª—ã“ì—ã.',
                  ru:'"Aray city Mall" ‚Äî —Å–∞–º—ã–π –Ω–æ–≤—ã–π —Ç–æ—Ä–≥–æ–≤–æ-—Ä–∞–∑–≤–ª–µ–∫–∞—Ç–µ–ª—å–Ω—ã–π —Ü–µ–Ω—Ç—Ä –≤ –ö—ã–∑—ã–ª–æ—Ä–¥–µ.'},
            img:'https://i3.photo.2gis.com/main/branch/240/70000001062388458/common',
            badge:{kk:'üéâ –Ü—Å-—à–∞—Ä–∞–ª–∞—Ä', ru:'üéâ –ú–µ—Ä–æ–ø—Ä–∏—è—Ç–∏—è'},
            mapLink:{kk:'https://2gis.kz/kyzylorda/firm/70000001062641532', ru:'https://2gis.kz/kyzylorda/firm/70000001062641532'}
          }
        ]
      },
      {
        id:'sacred', icon:'üïå',
        title:{kk:'–ö–∏–µ–ª—ñ –∂–µ—Ä–ª–µ—Ä', ru:'–°–≤—è—Ç—ã–µ –º–µ—Å—Ç–∞'},
        items:[
          {
            title:{kk:'“ö–æ—Ä“õ—ã—Ç –ê—Ç–∞ –º–µ–º–æ—Ä–∏–∞–ª—ã', ru:'–ú–µ–º–æ—Ä–∏–∞–ª –ö–æ—Ä–∫—ã—Ç –ê—Ç–∞'},
            desc:{kk:'“ö–æ—Ä“õ—ã—Ç –ê—Ç–∞ ‚Äî “±–ª—Ç—Ç—ã“õ –º”ô–¥–µ–Ω–∏ –º“±—Ä–∞“ì–∞ “õ–∞—Ç—ã—Å—Ç—ã –º–∞“£—ã–∑–¥—ã –æ—Ä—ã–Ω.',
                  ru:'–ö–æ—Ä–∫—ã—Ç –ê—Ç–∞ ‚Äî –≤–∞–∂–Ω—ã–π –ø–∞–º—è—Ç–Ω–∏–∫ –Ω–∞—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–π –∫—É–ª—å—Ç—É—Ä—ã.'},
            img:'https://qazir.kz/uploads/8d3ab7181c150906a9459531956380d6.jpg',
            badge:{kk:'üéº –¢–∞—Ä–∏—Ö', ru:'üéº –ò—Å—Ç–æ—Ä–∏—è'},
            mapLink:{kk:'https://2gis.kz/search/%D2%9B%D0%BE%D1%80%D2%9B%D1%8B%D1%82%20%D0%B0%D1%82%D0%B0%20%D0%BC%D0%B5%D0%BC%D0%BE%D1%80%D0%B8%D0%B0%D0%BB%D1%8B/geo/70030076487157565/63.934694%2C45.603376?m=63.934694%2C45.603376%2F15.6', ru:'https://2gis.kz/search/%D2%9B%D0%BE%D1%80%D2%9B%D1%8B%D1%82%20%D0%B0%D1%82%D0%B0%20%D0%BC%D0%B5%D0%BC%D0%BE%D1%80%D0%B8%D0%B0%D0%BB%D1%8B/geo/70030076487157565/63.934694%2C45.603376?m=63.934694%2C45.603376%2F15.6'}
          },
          {
            title:{kk:'–ê–π—Ç–±–∞–π –º–µ—à—ñ—Ç—ñ', ru:'–ú–µ—á–µ—Ç—å –ê–π—Ç–±–∞–π'},
            desc:{kk:'–ê–π—Ç–±–∞–π –º–µ—à—ñ—Ç—ñ ‚Äî –∞–π–º–∞“õ—Ç—ã“£ –¥—ñ–Ω–∏ –∂”ô–Ω–µ —Ä—É—Ö–∞–Ω–∏ –æ—Ä—Ç–∞–ª—ã“ì—ã.',
                  ru:'–ú–µ—á–µ—Ç—å –ê–π—Ç–±–∞–π ‚Äî —Ä–µ–ª–∏–≥–∏–æ–∑–Ω—ã–π –∏ –¥—É—Ö–æ–≤–Ω—ã–π —Ü–µ–Ω—Ç—Ä —Ä–µ–≥–∏–æ–Ω–∞.'},
            img:'https://upload.wikimedia.org/wikipedia/kk/8/83/%D0%90%D0%B9%D1%82%D0%B1%D0%B0%D0%B9_%D0%BC%D0%B5%D1%88%D1%96%D1%82%D1%96._%D2%9A%D1%8B%D0%B7%D1%8B%D0%BB%D0%BE%D1%80%D0%B4%D0%B0_%D2%9B%D0%B0%D0%BB%D0%B0%D1%81%D1%8B.jpg',
            badge:{kk:'üôè –†—É—Ö–∞–Ω–∏ –¥–∞–º—É', ru:'üôè –î—É—Ö–æ–≤–Ω–æ–µ —Ä–∞–∑–≤–∏—Ç–∏–µ'},
            mapLink:{kk:'https://2gis.kz/kyzylorda/firm/70000001062624743', ru:'https://2gis.kz/kyzylorda/firm/70000001062624743'}
          },
          {
            title:{kk:'–û“õ—à—ã –ê—Ç–∞ –∫–µ—Å–µ–Ω–µ—Å—ñ', ru:'–ú–∞–≤–∑–æ–ª–µ–π –û–∫—à–∏ –ê—Ç–∞'},
            desc:{kk:'–û“õ—à—ã –ê—Ç–∞ –∫–µ—Å–µ–Ω–µ—Å—ñ ‚Äî —Ç–∞—Ä–∏—Ö–∏ –µ—Å–∫–µ—Ä—Ç–∫—ñ—à, –º”ô–¥–µ–Ω–∏ –º–∞“£—ã–∑–¥—ã –Ω—ã—Å–∞–Ω.',
                  ru:'–ú–∞–≤–∑–æ–ª–µ–π –û–∫—à–∏ A—Ç–∞ ‚Äî –∏—Å—Ç–æ—Ä–∏—á–µ—Å–∫–∞—è –∏ –∫—É–ª—å—Ç—É—Ä–Ω–∞—è –∂–µ–º—á—É–∂–∏–Ω–∞.'},
            img:'https://old.aqmeshit-aptalygy.kz/uploads/posts/2018-08/1534920181_1.jpg',
            badge:{kk:'üèõÔ∏è XIV “ì–∞—Å—ã—Ä', ru:'üèõÔ∏è XIV –≤–µ–∫'},
            mapLink:{kk:'https://2gis.kz/kyzylorda/search/–û“õ—à—ã –ê—Ç–∞ –∫–µ—Å–µ–Ω–µ—Å—ñ', ru:'https://2gis.kz/kyzylorda/search/–ú–∞–≤–∑–æ–ª–µ–π –û–∫—à–∏ –ê—Ç–∞'}
          }
        ]
      },
      {
        id:'achievements', icon:'‚≠ê',
        title:{kk:'–ñ–µ—Ç—ñ—Å—Ç—ñ–∫—Ç–µ—Ä', ru:'–î–æ—Å—Ç–∏–∂–µ–Ω–∏—è'},
        items:[
          {
            title:{kk:'–ë–∞–π“õ–æ“£—ã—Ä ‚Äì ”ô–ª–µ–º–¥–µ–≥—ñ –∞–ª“ì–∞—à“õ—ã “ì–∞—Ä—ã—à –∞–π–ª–∞“ì—ã', ru:'–ë–∞–π–∫–æ–Ω—É—Ä ‚Äî –ø–µ—Ä–≤—ã–π –∫–æ—Å–º–æ–¥—Ä–æ–º –≤ –º–∏—Ä–µ'},
            desc:{kk:'1957 –∂—ã–ª—ã "–°–ø—É—Ç–Ω–∏–∫-1" –æ—Å—ã –∂–µ—Ä–¥–µ–Ω “±—à—ã—Ä—ã–ª–¥—ã; 1961 –∂—ã–ª—ã –Æ—Ä–∏–π –ì–∞–≥–∞—Ä–∏–Ω “±—à—Ç—ã.',
                  ru:'–í 1957 –≥–æ–¥—É –æ—Ç—Å—é–¥–∞ –∑–∞–ø—É—Å—Ç–∏–ª–∏ "–°–ø—É—Ç–Ω–∏–∫-1"; –≤ 1961 –≥–æ–¥—É ‚Äî –Æ. –ì–∞–≥–∞—Ä–∏–Ω —Å–æ–≤–µ—Ä—à–∏–ª –ø–æ–ª—ë—Ç.'},
            img:'https://www.gov.kz/uploads/2020/6/5/55b5920553b7649ebdcafad911be7cce_original.333789.jpg',
            badge:{kk:'‚≠ê ”ò–ª–µ–º–¥—ñ–∫ –º–∞“£—ã–∑—ã –±–∞—Ä', ru:'‚≠ê –ú–∏—Ä–æ–≤–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ'},
            mapLink:{kk:'https://2gis.kz/geo/70030076439795093/63.305237%2C45.624875?m=63.306062%2C45.625232%2F15.38', ru:'https://2gis.kz/geo/70030076439795093/63.305237%2C45.624875?m=63.306062%2C45.625232%2F15.38'}
          },
          {
            title:{kk:'–ö“Ø—Ä—ñ—à ”©–Ω—ñ–º–¥–µ—Ä—ñ–º–µ–Ω —Ç–∞–Ω—ã–º–∞–ª', ru:'–ò–∑–≤–µ—Å—Ç–Ω–æ—Å—Ç—å —Ä–∏—Å–æ–≤—ã–º–∏ –ø—Ä–æ–¥—É–∫—Ç–∞–º–∏'},
            desc:{kk:'“ö—ã–∑—ã–ª–æ—Ä–¥–∞ –æ–±–ª—ã—Å—ã –∫“Ø—Ä—ñ—à ”©–Ω—ñ–º–¥–µ—Ä—ñ–º–µ–Ω —Ç–∞–Ω—ã–º–∞–ª ‚Äî “ö–∞–∑–∞“õ—Å—Ç–∞–Ω–Ω—ã“£ –Ω–µ–≥—ñ–∑–≥—ñ –∫“Ø—Ä—ñ—à –µ–≥–µ—Ç—ñ–Ω ”©“£—ñ—Ä—ñ. –û–Ω–¥–∞ –∫“Ø—Ä—ñ—à—Ç—ñ–∫—Ç–µ—Ä –∞—É–¥–∞–Ω—ã —Ä–µ—Å–ø—É–±–ª–∏–∫–∞ –±–æ–π—ã–Ω—à–∞ –∂–∞–ª–ø—ã –∫”©–ª–µ–º–Ω—ñ“£ 89,4 –ø–∞–π—ã–∑—ã–Ω –∞–ª—ã–ø –∂–∞—Ç—ã—Ä.',
                  ru:'–ö—ã–∑—ã–ª–æ—Ä–¥–∏–Ω—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å —Å–ª–∞–≤–∏—Ç—Å—è –ø—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤–æ–º —Ä–∏—Å–∞ ‚Äî —ç—Ç–æ –≥–ª–∞–≤–Ω—ã–π —Ä–∏—Å–æ—Å–µ—é—â–∏–π —Ä–µ–≥–∏–æ–Ω –ö–∞–∑–∞—Ö—Å—Ç–∞–Ω–∞. –ü–ª–æ—â–∞–¥—å –ø–æ—Å–µ–≤–æ–≤ —Ä–∏—Å–∞ –∑–¥–µ—Å—å —Å–æ—Å—Ç–∞–≤–ª—è–µ—Ç 89,4% –æ—Ç –æ–±—â–µ–π –ø–ª–æ—â–∞–¥–∏ –ø–æ—Å–µ–≤–æ–≤ –≤ —Ä–µ—Å–ø—É–±–ª–∏–∫–µ.'},
            img:'https://opennews.kz/uploads/posts/2023-01/1674214463_ris-4.jpg',
            badge:{kk:'üåæ –ê–≥—Ä–∞—Ä–ª—ã“õ –∂–µ—Ç—ñ—Å—Ç—ñ–∫', ru:'üåæ –°–µ–ª—å—Å–∫–æ—Ö–æ–∑—è–π—Å—Ç–≤–µ–Ω–Ω–æ–µ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–µ'},
            mapLink:{kk:'https://2gis.kz/kyzylorda/search/%D2%9A%D1%8B%D0%B7%D1%8B%D0%BB%D0%BE%D1%80%D0%B4%D0%B0%2C%20%D0%BA%D2%AF%D1%80%D1%96%D1%88/page/3/firm/70000001063247441/65.511275%2C44.830822?m=65.502587%2C44.824997%2F12.15', ru:'https://2gis.kz/kyzylorda/search/%D2%9A%D1%8B%D0%B7%D1%8B%D0%BB%D0%BE%D1%80%D0%B4%D0%B0%2C%20%D0%BA%D2%AF%D1%80%D1%96%D1%88/page/3/firm/70000001063247441/65.511275%2C44.830822?m=65.502587%2C44.824997%2F12.15'}
          },
          {
            title:{kk:'–¢–∞–Ω—ã–º–∞–ª —Ç“±–ª“ì–∞–ª–∞—Ä', ru:'–ò–∑–≤–µ—Å—Ç–Ω—ã–µ –ª–∏—á–Ω–æ—Å—Ç–∏'},
            desc:{kk:'–†–æ–∑–∞ –ë–∞“ì–ª–∞–Ω–æ–≤–∞, –ò–ª—å—è –ò–ª—å–∏–Ω, –ó–µ–π–Ω–æ–ª–ª–∞ –®“Ø–∫—ñ—Ä–æ–≤, –ú–∞–¥–∏–Ω–∞ –ï—Ä–∞–ª–∏–µ–≤–∞, ”ò–±–¥—ñ–ª–¥–∞ –¢”ô–∂—ñ–±–∞–µ–≤, –ù–∞—Ä—Ç–∞–π –ë–µ–∫–µ–∂–∞–Ω–æ–≤, —Ç.—Å.—Å.',
                  ru:'–†–æ–∑–∞ –ë–∞–≥–ª–∞–Ω–æ–≤–∞, –ò–ª—å—è –ò–ª—å–∏–Ω, –ó–µ–π–Ω–æ–ª–ª–∞ –®—É–∫–∏—Ä–æ–≤, –ú–∞–¥–∏–Ω–∞ –≠—Ä–∞–ª–∏–µ–≤–∞, –ê–±–¥–∏–ª—å–¥–∞ –¢–∞–∂–∏–±–∞–µ–≤, –ù–∞—Ä—Ç–∞–π –ë–µ–∫–µ–∂–∞–Ω–æ–≤ –∏ –¥—Ä.'},
            img:'https://egemen.kz/media/2021/10/25/crop-6_3_675x632_98ede6669fc900d57d8f7befe6658ab8_1280x720.jpg?width=600&height=315',
            badge:{kk:'üéñÔ∏è “∞–ª—Ç—Ç—ã“õ –º–∞“õ—Ç–∞–Ω—ã—à', ru:'üéñÔ∏è –ù–∞—Ü–∏–æ–Ω–∞–ª—å–Ω–∞—è –≥–æ—Ä–¥–æ—Å—Ç—å'},
            mapLink:{kk:'https://2gis.kz/kyzylorda/search/–ö—ã–∑—ã–ª–æ—Ä–¥–∞', ru:'https://2gis.kz/kyzylorda/search/–ö—ã–∑—ã–ª–æ—Ä–¥–∏–Ω—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å'}
          }
        ]
      },
      {
        id:'parks', icon:'üå≥',
        title:{kk:'–°–∞—è–±–∞“õ—Ç–∞—Ä –º–µ–Ω –¥–µ–º–∞–ª—ã—Å –æ—Ä—ã–Ω–¥–∞—Ä—ã', ru:'–ü–∞—Ä–∫–∏ –∏ –º–µ—Å—Ç–∞ –æ—Ç–¥—ã—Ö–∞'},
        items:[
          {
            title:{kk:'–ü—Ä–µ–∑–∏–¥–µ–Ω—Ç—Ç—ñ–∫ –ø–∞—Ä–∫', ru:'–ü—Ä–µ–∑–∏–¥–µ–Ω—Ç—Å–∫–∏–π –ø–∞—Ä–∫'},
            desc:{kk:'–ü—Ä–µ–∑–∏–¥–µ–Ω—Ç—Ç—ñ–∫ –ø–∞—Ä–∫ ‚Äî “õ–∞–ª–∞–Ω—ã“£ –∂–∞—Å—ã–ª –¥–µ–º–∞–ª—ã—Å –æ—Ä–Ω—ã.',
                  ru:'–ü—Ä–µ–∑–∏–¥–µ–Ω—Ç—Å–∫–∏–π –ø–∞—Ä–∫ ‚Äî –∑–µ–ª–µ–Ω–∞—è –∑–æ–Ω–∞ –¥–ª—è –æ—Ç–¥—ã—Ö–∞ –≤ –≥–æ—Ä–æ–¥–µ.'},
            img:'https://qorda.kz/uploads/posts/2018-08/1535456186_001.jpg',
            badge:{kk:'üåø –°–µ—Ä—É–µ–Ω', ru:'üåø –ü—Ä–æ–≥—É–ª–∫–∞'},
            mapLink:{kk:'https://2gis.kz/kyzylorda/search/–ü—Ä–µ–∑–∏–¥–µ–Ω—Ç—Ç—ñ–∫ –ø–∞—Ä–∫', ru:'https://2gis.kz/kyzylorda/search/–ü—Ä–µ–∑–∏–¥–µ–Ω—Ç—Å–∫–∏–π –ø–∞—Ä–∫'}
          },
          {
            title:{kk:'¬´–°—ã—Ä —Å–∞–º–∞–ª—ã¬ª –¥–µ–º–∞–ª—ã—Å –∞–π–º–∞“ì—ã', ru:'–ó–æ–Ω–∞ –æ—Ç–¥—ã—Ö–∞ "–°—ã—Ä —Å–∞–º–∞–ª—ã"'},
            desc:{kk:'–¢–∞–±–∏“ì–∞—Ç“õ–∞ –∂–∞“õ—ã–Ω –¥–µ–º–∞–ª—ã—Å –æ—Ä–Ω—ã ‚Äî –ø–∏–∫–Ω–∏–∫ –∂”ô–Ω–µ —Å—É —Å–ø–æ—Ä—Ç—Ç–∞—Ä—ã “Ø—à—ñ–Ω.',
                  ru:'–ó–æ–Ω–∞ –æ—Ç–¥—ã—Ö–∞ —É —Ä–µ–∫–∏ ‚Äî –¥–ª—è –ø–∏–∫–Ω–∏–∫–æ–≤ –∏ –≤–æ–¥–Ω—ã—Ö —Ä–∞–∑–≤–ª–µ—á–µ–Ω–∏–π.'},
            img:'https://old.kzvesti.kz/uploads/posts/2020-06/1591187260_plyazh.jpg',
            badge:{kk:'‚òÄÔ∏è –ñ–∞–∑“ì—ã –¥–µ–º–∞–ª—ã—Å', ru:'‚òÄÔ∏è –õ–µ—Ç–Ω–∏–π –æ—Ç–¥—ã—Ö'},
            mapLink:{kk:'https://2gis.kz/kyzylorda/search/–°—ã—Ä —Å–∞–º–∞–ª—ã', ru:'https://2gis.kz/kyzylorda/search/–°—ã—Ä —Å–∞–º–∞–ª—ã'}
          },
          {
            title:{kk:'–û—Ä—Ç–∞–ª—ã“õ –∂–∞“ì–∞–∂–∞–π', ru:'–¶–µ–Ω—Ç—Ä–∞–ª—å–Ω—ã–π –ø–ª—è–∂'},
            desc:{kk:'–°—ã—Ä–¥–∞—Ä–∏—è –±–æ–π—ã–Ω–¥–∞“ì—ã –∂–∞“ì–∞–∂–∞–π ‚Äî –¥–µ–º–∞–ª—ã—Å –∂”ô–Ω–µ —Å–µ—Ä—É–µ–Ω “Ø—à—ñ–Ω —Ç–∞–º–∞—à–∞.',
                  ru:'–ü–ª—è–∂ –Ω–∞ –±–µ—Ä–µ–≥—É –°—ã—Ä–¥–∞—Ä–∏–∏ ‚Äî –æ—Ç–ª–∏—á–Ω–æ–µ –º–µ—Å—Ç–æ –¥–ª—è –æ—Ç–¥—ã—Ö–∞.'},
            img:'https://rus.baq.kz/storage/storage/news/2023/06/15/mainphoto/127381/1200x700_xcwfWALKd1y4yRzwQKx2PX93Js3X6whkEqOd7vyn.jpg',
            badge:{kk:'üèñÔ∏è –ñ–∞“ì–∞–∂–∞–π', ru:'üèñÔ∏è –ü–ª—è–∂'},
            mapLink:{kk:'https://2gis.kz/kyzylorda/firm/70000001101138733?m=65.545247%2C44.754218%2F17.74', ru:'https://2gis.kz/kyzylorda/firm/70000001101138733?m=65.545247%2C44.754218%2F17.74'}
          }
        ]
      }
    ]
  };

  // DOM refs
  const tabsEl = document.getElementById('tabs');
  const slidesEl = document.getElementById('slides');
  const dotsEl = document.getElementById('dots');
  const subtitleEl = document.getElementById('subtitle');
  const langBtn = document.getElementById('langBtn');
  const langLabel = document.getElementById('langLabel');
  const arrowLeft = document.getElementById('arrowLeft');
  const arrowRight = document.getElementById('arrowRight');

  function buildUI(){
    tabsEl.innerHTML = '';
    slidesEl.innerHTML = '';
    dotsEl.innerHTML = '';

    DATA.sections.forEach((sec, idx) => {
      // tab
      const t = document.createElement('button');
      t.className = 'tab' + (idx === 0 ? ' active' : '');
      t.innerText = `${sec.icon}  ${sec.title[DATA.lang]}`;
      t.addEventListener('click', () => goTo(idx));
      tabsEl.appendChild(t);

      // slide
      const slide = document.createElement('div');
      slide.className = 'slide';
      slide.dataset.index = idx;
      let inner = '';
      sec.items.forEach(item => {
        inner += `
          <article class="place-card">
            <img class="place-image" src="${item.img}" alt="${item.title[DATA.lang]}">
            <div class="place-body">
              <div class="place-title">${item.title[DATA.lang]}</div>
              <div class="place-desc">${item.desc[DATA.lang]}</div>
              <div class="badge">${item.badge ? item.badge[DATA.lang] : ''}</div>
              <a href="${item.mapLink[DATA.lang]}" class="map-link" target="_blank" rel="noopener noreferrer">
                üìç ${DATA.lang === 'kk' ? '–ö–∞—Ä—Ç–∞–Ω—ã –∞—à—É' : '–û—Ç–∫—Ä—ã—Ç—å –∫–∞—Ä—Ç—É'}
              </a>
            </div>
          </article>
        `;
      });
      slide.innerHTML = inner;
      slidesEl.appendChild(slide);

      // dot
      const dot = document.createElement('div');
      dot.className = 'dot' + (idx === 0 ? ' active' : '');
      dot.dataset.index = idx;
      dot.addEventListener('click', () => goTo(idx));
      dotsEl.appendChild(dot);
    });

    subtitleEl.innerText = DATA.lang === 'kk' ? '“ö—ã–∑—ã–ª–æ—Ä–¥–∞ –æ–±–ª—ã—Å—ã' : '–ö—ã–∑—ã–ª–æ—Ä–¥–∏–Ω—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å';
    buildActive(0, true);
  }

  let current = 0;
  function slidesCount() { return DATA.sections.length; }

  function updateActiveUI(){
  document.querySelectorAll('.tab').forEach((b, i) => {
    b.classList.toggle('active', i === current);
    b.innerText = `${DATA.sections[i].icon}  ${DATA.sections[i].title[DATA.lang]}`;
  });
  document.querySelectorAll('.dot').forEach((d, i) => {
    d.classList.toggle('active', i === current);
  });
  scrollActiveTabIntoView(); // üëà add this line
  }


  function scrollActiveTabIntoView() {
  const activeTab = document.querySelector('.tab.active');
  if (activeTab) {
    activeTab.scrollIntoView({ behavior: 'smooth', inline: 'center', block: 'nearest' });
  }
  }


  function buildActive(idx, instant){
    current = ((idx % slidesCount()) + slidesCount()) % slidesCount();
    const w = slidesEl.clientWidth;
    slidesEl.style.transition = instant ? 'none' : 'transform 320ms cubic-bezier(.22,.9,.2,1)';
    slidesEl.style.transform = `translateX(${-current * w}px)`;
    updateActiveUI();
  }

  function goTo(idx) {
    buildActive(idx, false);
  }

  arrowLeft.addEventListener('click', () => goTo(current - 1));
  arrowRight.addEventListener('click', () => goTo(current + 1));

  window.addEventListener('resize', () => buildActive(current, true));

  // improved pointer handling: detect initial gesture axis (horizontal vs vertical)
  // so vertical scrolling inside a slide doesn't switch slides.
  let dragging = false, startX = 0, startY = 0, startTrans = 0;
  let axisLocked = false, isHorizontal = false;

  slidesEl.addEventListener('pointerdown', (e) => {
    dragging = true;
    axisLocked = false;
    isHorizontal = false;
    startX = e.clientX;
    startY = e.clientY;
    startTrans = -current * slidesEl.clientWidth;
    slidesEl.style.transition = 'none';
    // Do NOT capture pointer yet; only do so if axis is horizontal
  });

  slidesEl.addEventListener('pointermove', (e) => {
    if (!dragging) return;
    const dx = e.clientX - startX;
    const dy = e.clientY - startY;

    // wait for a small movement to determine axis
    if (!axisLocked) {
      if (Math.abs(dx) < 6 && Math.abs(dy) < 6) return; // ignore tiny jitter
      axisLocked = true;
      isHorizontal = Math.abs(dx) > Math.abs(dy);
      if (isHorizontal) {
        // Only now capture pointer for horizontal drag
        try { slidesEl.setPointerCapture(e.pointerId); } catch (err) {}
      } else {
        // For vertical gesture, IMMEDIATELY end dragging and let browser handle scroll
        dragging = false;
        axisLocked = false;
        isHorizontal = false;
        slidesEl.style.transform = `translateX(${-current * slidesEl.clientWidth}px)`;
        return;
      }
    }

    if (isHorizontal) {
      // prevent native behavior when handling horizontal swipe
      e.preventDefault();
      slidesEl.style.transform = `translateX(${startTrans + dx}px)`;
    }
  }, { passive: false });

  slidesEl.addEventListener('pointerup', (e) => {
    if (!dragging && !axisLocked) {
      // nothing to do (likely vertical gesture canceled our drag)
      return;
    }
    // if axis wasn't locked yet and pointer is released, treat as no-op
    if (!axisLocked) {
      buildActive(current, false);
      dragging = false;
      return;
    }

    // only consider horizontal gestures for slide change
    if (isHorizontal) {
      const dx = e.clientX - startX;
      if (Math.abs(dx) > slidesEl.clientWidth / 4) {
        if (dx < 0) goTo(current + 1);
        else goTo(current - 1);
      } else {
        buildActive(current, false);
      }
      try { slidesEl.releasePointerCapture(e.pointerId); } catch (err) {}
    } else {
      buildActive(current, false);
    }

    dragging = false;
    axisLocked = false;
  });

  slidesEl.addEventListener('pointercancel', (e) => {
    // similar cleanup as pointerup
    dragging = false;
    axisLocked = false;
    buildActive(current, false);
    try { slidesEl.releasePointerCapture(e.pointerId); } catch (err) {}
  });

  slidesEl.addEventListener('pointerleave', (e) => {
    // when leaving, if we were processing a horizontal drag, finalize it
    if (!axisLocked || !isHorizontal) {
      dragging = false;
      axisLocked = false;
      return;
    }
    const dx = e.clientX - startX;
    const threshold = slidesEl.clientWidth * 0.18;
    if (dx < -threshold) buildActive(current + 1, false);
    else if (dx > threshold) buildActive(current - 1, false);
    else buildActive(current, false);
    dragging = false;
    axisLocked = false;
  });

  langBtn.addEventListener('click', () => {
    DATA.lang = DATA.lang === 'kk' ? 'ru' : 'kk';
    langLabel.innerText = DATA.lang === 'kk' ? '“ö–ê–ó' : '–†–£–°';
    langBtn.animate([{ transform: 'rotateY(0deg)' }, { transform: 'rotateY(180deg)' }], { duration: 200 });
    buildUI();
  });

  window.addEventListener('keydown', (e) => {
    if (e.key === 'ArrowLeft') goTo(current - 1);
    if (e.key === 'ArrowRight') goTo(current + 1);
  });

  buildUI();
  
})();
</script>
<script>
  if ('serviceWorker' in navigator) {
    navigator.serviceWorker.register('./service-worker.js')
      .then(() => console.log('Service Worker registered!'))
      .catch(err => console.log('SW registration failed:', err));
  }
</script>

</body>
</html>
